# Earth Curvature Calculator Definitions (Revised)

This document outlines a geometric model used to calculate how much of a distant structure is hidden or visible due to Earth's curvature. The key points (**A**, **B**, **C**, **D**, **X**, **Z**) and segments (**XC**, **CZ**, **CD**) are defined below, alongside relevant distances and angles.

## 1. Center of the Earth (**O**)
* **O** is the Earth's center, and $R$ is the Earth's radius.
* Both **OB** (to the horizon) and **OX** (to the distant base) measure $R$.

## 2. Observer's Eye-Level Position Above Sea Level (**A**)
* The observer is elevated by $h_1$ above the Earth's surface.
* Thus, $OA = R + h_1$.

## 3. Horizon Point (**B**)
* On the Earth's surface, **B** is where a line from **A** is tangent to the Earth.
* In the right triangle $AOB$, angle at $B$ is $90^\circ$.
* $AB$ is the line of sight from the observer to the horizon.

## 4. Base Point on the Distant Surface (**X**)
* A point on Earth's surface with $OX = R$.
* Represents "sea level" directly beneath any hypothetical distant structure.
* This point is located "beyond the horizon" as seen by the observer at **A**.

## 5. Total Distance on Sea Level ($L_0$)
* **$L_0$** is the distance (along the surface or as a straight line at sea level) from the observer's base position to **X**.
* It can be interpreted as the "sea-level distance" between the observer's location and the distant base point.

## 6. Intersection of the Line of Sight with the Hypothetical Structure (**C**)
* Extend the line from **A** (through **B**) toward the distant object.
* **C** is where this line of sight meets the object's "vertical" extension from the base **X**.
* Any portion of the object below **C** is hidden from view.
* The segment **XC** (i.e., $X \rightarrow C$) is the "hidden portion" of the object.

## 7. Top of the Object/Structure (**Z**)
* **Z** is the highest point of the structure measured from **X**.
* The line $XZ$ is the true (physical) vertical height of the object above sea level.
* Depending on the object's total height:
  * If $Z$ is below $C$, the structure is entirely hidden.
  * If $Z$ is above $C$, the portion $CZ$ is visible to the observer.

## 8. Hidden Portion ($XC = h_2$)
* By definition, $XC$ is the part of the structure blocked by Earth's curvature.
* We denote $XC = h_2$.

## 9. Actual (Physical) Visible Portion ($CZ$)
* If the top $Z$ is above the line of sight at $C$, then $CZ$ is the **physically visible** segment of the structure above the horizon.
* $CZ$ is measured along the same vertical as $X \rightarrow Z$.

## 10. Apparent (Perspective-Adjusted) Visible Portion ($CD$)
* Because the Earth's curvature causes the line $XZ$ to "lean away" from the observer, the physically vertical segment $CZ$ does not appear perpendicular to the horizon from the observer's viewpoint.
* To capture the **visual** or **perspective-adjusted** height:
  1. Draw a line $BC$ along the horizon from **B** to **C**.
  2. Construct **D** such that $CD$ is **perpendicular** ($90^\circ$) to $BC$.
  3. In the right triangle $CDZ$, angle $\angle CDZ$ is $90^\circ$.
  * **$CD$** is the **apparent** (or "perspective") height of the structure above the horizon.

## Summary of Key Points
1. **O**: Earth's center (radius = $R$).
2. **A**: Observer's position, at $R + h_1$.
3. **B**: Horizon point (tangent from **A**).
4. **X**: Base point on Earth's surface at radius $R$.
5. **$L_0$**: Sea-level distance from observer's base location to **X**.
6. **C**: Intersection of line-of-sight with the object's vertical; everything below **C** is hidden.
   * $XC = h_2$ = hidden portion.
7. **Z**: Top of the object; $XZ$ is the full vertical extent.
   * $CZ$ = **actual** (physical) height above the horizon (if visible).
8. **D**: Constructed point for measuring the apparent height, so that $CD$ is perpendicular to $BC$.
   * $CD$ = **apparent** (perspective-adjusted) height above the horizon.

### In this model:
* **$XC = h_2$** is the amount of the object hidden by Earth's curvature.
* **$CZ$** is the physically visible vertical distance (if $Z$ is above $C$).
* **$CD$** is the apparent (perspective) height as seen by the observer, accounting for the "lean away" effect.

> **Note**: If $Z \le C$, the top lies at or below the horizon line, thus the structure is completely hidden from the observer. Otherwise, the visible portion is $CZ$ (or, perspective-adjusted, $CD$).
